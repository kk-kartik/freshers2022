<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="stylesheet" href="index.css" />
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PHOSPHENES-2022</title>
  </head>
  <body>
    <div id="main">
      <div id="roll"></div>
    </div>
    <script src="mousetrap.min.js"></script>
    <script>
      var cntg = 9;
      m1 = [
        222123001, 222123003, 222123020, 222123034, 222123036, 222123045,
        222123051, 222123055, 222123057,
      ];
      m2 = [
        222123002, 222123004, 222123005, 222123006, 222123007, 222123008,
        222123009, 222123010, 222123011, 222123012, 222123013, 222123014,
        222123015, 222123016, 222123017, 222123018, 222123019, 222123021,
        222123022, 222123023, 222123024, 222123025, 222123026, 222123027,
        222123028, 222123029, 222123030, 222123031, 222123032, 222123033,
        222123035, 222123037, 222123038, 222123039, 222123040, 222123041,
        222123042, 222123043, 222123044, 222123046, 222123047, 222123048,
        222123049, 222123050, 222123052, 222123053, 222123054, 222123056,
        222123058, 222123059,
      ];

      m3 = [
        212123008, 212123023, 212123024, 212123039, 212123040, 212123047, 
        212123051,212123056,212123020,212123022,212123001,212123059,
      ];

      m4 = [
        212123002, 212123003, 212123004, 212123005, 212123006, 212123007,
        212123009, 212123010, 212123011, 212123012, 212123013, 212123014,
        212123015, 212123016, 212123017, 212123018, 212123021,
        212123025, 212123026, 212123027
        212123028, 212123030, 212123031, 212123032, 212123033, 212123034,
        212123035, 212123036, 212123037, 212123038, 212123041,
        212123042, 212123043, 212123046, 212123048,
        212123049, 212123053, 212123054, 212123055,
        212123058, 212123057
      ];
      mm=[
      264174360,
216827406,
513042354,
663772834,
944840418,
167178203,
406735008,
658836682,
800749951,
502857852,
617728856,
285324108,
496573115,
605910623,
827135710,
745285152,
725041842,
090854463,
544076843,
100730246,
191966014,
819654428,
362891085,
225497941,
119728024,
551911634,
609451709,
853259907,
142742750,
237276437,
849485197,
443246435,
931718829,
247466579,
636673537,
329245461,
052412732,
822458647,
730901970,
331723146,
285682985,
780549709,
146762891,
511391940,
834171199,
104127103,
002154365,
477711439,
451650950,
491508148,
332026371,
640455959,
429191571,
911935779,
845858884,
875408667,
964027535,
844888252,
332880949,
554397255,
682119792,
915302004,
583262976,
411687593,
150592880,
362807992,
434986263,
055604661,
540255941,
932155886,
674493634,
123621486,
888408569,
805014267,
392422559,
845393404,
836666765,
281582743,
777600184,
615319848,
690353170,
782372074,
890971914,
331152653,
194195810,
258540529,
181351195,
017772540,
389987837,
497734208,
629409603,
205555355,
184962934,
808936364,
962352601,
670342007,
659877038,
517228928,
134551174,
639080180,
      ];
      var cntb = m2.length;
      var cntg1=m3.length;
      var cntb1=m4.length;
      Mousetrap.bind("g", function () {
        if (cntg <= 0) cntg = m1.length;
        var x = Math.floor(Math.random() * cntg);
        console.log(x);
        //cntg--;
        [m1[x], m1[cntg - 1]] = [m1[cntg - 1], m1[x]];
        console.log(m1);
        localStorage.setItem("RollNo", m1[cntg - 1]);
        call();
        cntg--;
      });
      Mousetrap.bind("h", function () {
        if (cntg1 <= 0) cntg1 = m3.length;
        var x = Math.floor(Math.random() * cntg1);
        console.log(x);
        //cntg--;
        [m3[x], m3[cntg1 - 1]] = [m3[cntg1 - 1], m3[x]];
        console.log(m3);
        localStorage.setItem("RollNo", m3[cntg1 - 1]);
        call();
        cntg1--;
      });
      Mousetrap.bind("b", function () {
        if (cntb <= 0) cntb = m2.length;
        var x = Math.floor(Math.random() * cntb);
        console.log(x);
        //cntg--;
        [m2[x], m2[cntb - 1]] = [m2[cntb - 1], m2[x]];
        console.log(m2);
        localStorage.setItem("RollNo", m2[cntb - 1]);
        call();
        cntb--;
      });
      Mousetrap.bind("n", function () {
        if (cntb1 <= 0) cntb1 = m4.length-1;
        var x = Math.floor(Math.random() * cntb1);
        console.log(x);
        //cntg--;
        [m4[x], m4[cntb1 - 1]] = [m4[cntb1 - 1], m4[x]];
        console.log(m4);
        localStorage.setItem("RollNo", m4[cntb1 - 1]);
        call();
        cntb1--;
      });
      Mousetrap.bind("d", function () {
        document.getElementById("roll").innerHTML = ""; 
      });
      function call() {
        var rlno = localStorage.getItem("RollNo");
        let pV=0;
        let progress = setInterval(() => {
          pV++;
          document.getElementById("roll").innerHTML = mm[pV];
          if (pV == 100) {
            document.getElementById("roll").innerHTML = rlno;  
            window.clearInterval(progress);
          }
        }, 10);
      }
    </script>
  </body>
</html>
